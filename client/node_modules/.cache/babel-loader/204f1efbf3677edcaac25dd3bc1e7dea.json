{"ast":null,"code":"import axios from 'axios';\nimport Cookies from 'universal-cookie';\nimport { connectionError } from './helpers';\nimport { optionAlert } from '../components/option-alert/option-alert.component';\nexport default (function (method, url, data) {\n  var cookies = new Cookies();\n  var token = cookies.get('authToken');\n  return axios({\n    method: method,\n    url: url,\n    data: data,\n    headers: {\n      'Content-Type': 'application/json',\n      'x-access-token': token ? token : ''\n    }\n  }).then(function (_ref) {\n    var data = _ref.data;\n\n    if (data && data.error != null) {\n      var _data$error = data.error,\n          title = _data$error.title,\n          message = _data$error.message;\n      optionAlert({\n        title: title,\n        message: message\n      });\n    }\n\n    return data;\n  }).catch(function (err) {\n    console.log(err);\n    connectionError();\n  });\n});","map":{"version":3,"sources":["/Users/brianmacpherson/Desktop/cantotalkweb/client/src/helpers/apiRequest.js"],"names":["axios","Cookies","connectionError","optionAlert","method","url","data","cookies","token","get","headers","then","error","title","message","catch","err","console","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AAEA,SAASC,eAAT,QAAgC,WAAhC;AACA,SAASC,WAAT,QAA4B,mDAA5B;AAEA,gBAAe,UAACC,MAAD,EAASC,GAAT,EAAcC,IAAd,EAAuB;AAClC,MAAMC,OAAO,GAAG,IAAIN,OAAJ,EAAhB;AACA,MAAMO,KAAK,GAAGD,OAAO,CAACE,GAAR,CAAY,WAAZ,CAAd;AACA,SAAOT,KAAK,CAAC;AACTI,IAAAA,MAAM,EAANA,MADS;AAETC,IAAAA,GAAG,EAAHA,GAFS;AAGTC,IAAAA,IAAI,EAAJA,IAHS;AAITI,IAAAA,OAAO,EAAE;AACL,sBAAgB,kBADX;AAEL,wBAAkBF,KAAK,GAAGA,KAAH,GAAW;AAF7B;AAJA,GAAD,CAAL,CAQJG,IARI,CAQC,gBAAc;AAAA,QAAXL,IAAW,QAAXA,IAAW;;AAClB,QAAIA,IAAI,IAAIA,IAAI,CAACM,KAAL,IAAc,IAA1B,EAAgC;AAAA,wBACDN,IAAI,CAACM,KADJ;AAAA,UACpBC,KADoB,eACpBA,KADoB;AAAA,UACbC,OADa,eACbA,OADa;AAE5BX,MAAAA,WAAW,CAAC;AACRU,QAAAA,KAAK,EAALA,KADQ;AAERC,QAAAA,OAAO,EAAPA;AAFQ,OAAD,CAAX;AAIH;;AACD,WAAOR,IAAP;AACH,GAjBM,EAiBJS,KAjBI,CAiBE,UAAAC,GAAG,EAAI;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAd,IAAAA,eAAe;AAClB,GApBM,CAAP;AAqBH,CAxBD","sourcesContent":["import axios from 'axios';\nimport Cookies from 'universal-cookie';\n\nimport { connectionError } from './helpers';\nimport { optionAlert } from '../components/option-alert/option-alert.component';\n\nexport default (method, url, data) => {\n    const cookies = new Cookies();\n    const token = cookies.get('authToken')\n    return axios({\n        method,\n        url,\n        data,\n        headers: {\n            'Content-Type': 'application/json',\n            'x-access-token': token ? token : ''\n        }\n    }).then(({ data }) => {\n        if (data && data.error != null) {\n            const { title, message } = data.error;\n            optionAlert({\n                title,\n                message\n            })\n        }\n        return data\n    }).catch(err => {\n        console.log(err)\n        connectionError()\n    })   \n}"]},"metadata":{},"sourceType":"module"}