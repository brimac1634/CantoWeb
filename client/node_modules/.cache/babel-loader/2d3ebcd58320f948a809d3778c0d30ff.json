{"ast":null,"code":"var _jsxFileName = \"/Users/brianmacpherson/Desktop/cantotalkweb/src/Containers/Profile/Profile.js\";\nimport React from 'react';\nimport './Profile.css';\nimport { connect } from 'react-redux';\nimport MediaQuery from 'react-responsive';\nimport { connectionError } from '../../Helpers/helpers';\nimport { optionAlert } from '../OptionAlert/OptionAlert';\nimport HoverBox from '../../Components/HoverBox/HoverBox';\nimport Button from '../../Components/Button/Button';\nimport { push } from 'connected-react-router';\nimport { routes } from '../../Routing/constants';\nimport apiRequest from '../../Helpers/apiRequest';\nimport { setLoading as _setLoading } from '../../Loading/actions';\nimport { setUser } from '../SignIn/actions';\nimport { deleteToken } from '../../Helpers/helpers';\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.user.user\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    setLoading: function setLoading(loading) {\n      return dispatch(_setLoading(loading));\n    },\n    updateURL: function updateURL(path) {\n      return dispatch(push(path));\n    },\n    updateUser: function updateUser(user) {\n      return dispatch(setUser(user));\n    }\n  };\n};\n\nvar Profile = function Profile(_ref) {\n  var _ref$user = _ref.user,\n      userName = _ref$user.userName,\n      userEmail = _ref$user.userEmail,\n      setLoading = _ref.setLoading,\n      updateURL = _ref.updateURL,\n      updateUser = _ref.updateUser;\n  var RESET = routes.RESET,\n      SEARCH = routes.SEARCH;\n\n  var verifyDeletion = function verifyDeletion(event) {\n    optionAlert({\n      title: 'Account Deletion',\n      message: 'Are you sure you want to delete your account and all your saved data?',\n      buttons: [{\n        label: 'Yes',\n        onClick: function onClick() {\n          return handleDelete();\n        }\n      }, {\n        label: 'No',\n        onClick: function onClick() {}\n      }]\n    });\n    event.preventDefault();\n  };\n\n  var handleDelete = function handleDelete() {\n    setLoading(true);\n    apiRequest({\n      endPoint: '/delete-account',\n      method: 'POST',\n      body: {\n        userEmail: userEmail\n      }\n    }).then(function (res) {\n      setLoading(false);\n\n      if (res && res.error != null) {\n        var _res$error = res.error,\n            title = _res$error.title,\n            message = _res$error.message;\n        optionAlert({\n          title: title,\n          message: message\n        });\n      } else {\n        updateUser('');\n        deleteToken();\n        optionAlert({\n          title: 'Account Deleted',\n          message: 'Your user account has successfully been deleted.',\n          buttons: [{\n            label: 'Okay',\n            onClick: function onClick() {\n              return updateURL(SEARCH);\n            }\n          }]\n        });\n      }\n    }).catch(function () {\n      setLoading(false);\n      connectionError();\n    });\n  };\n\n  return React.createElement(MediaQuery, {\n    maxWidth: 574,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, function (matches) {\n    return React.createElement(HoverBox, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"profile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"profile-inner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Hello, \", userName, \"!\"), React.createElement(\"div\", {\n      className: \"section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Want to reset your password?\")), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"You will need to verify your email to reset your password.\"), React.createElement(Button, {\n      title: \"Reset\",\n      buttonType: \"ghost\",\n      icon: \"shuffle\",\n      height: \"44px\",\n      margin: \"0\",\n      width: \"100px\",\n      handleClick: function handleClick() {\n        return updateURL(RESET);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Wish to delete you account?\")), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Beware! This will delete your account and any saved data related to your account.\"), React.createElement(Button, {\n      title: \"Delete\",\n      buttonType: \"ghost\",\n      icon: \"multiply\",\n      height: \"44px\",\n      margin: \"0\",\n      width: \"100px\",\n      handleClick: verifyDeletion,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    })))));\n  });\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);","map":{"version":3,"sources":["/Users/brianmacpherson/Desktop/cantotalkweb/src/Containers/Profile/Profile.js"],"names":["React","connect","MediaQuery","connectionError","optionAlert","HoverBox","Button","push","routes","apiRequest","setLoading","setUser","deleteToken","mapStateToProps","state","user","mapDispatchToProps","dispatch","loading","updateURL","path","updateUser","Profile","userName","userEmail","RESET","SEARCH","verifyDeletion","event","title","message","buttons","label","onClick","handleDelete","preventDefault","endPoint","method","body","then","res","error","catch","matches"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './Profile.css';\nimport { connect } from 'react-redux';\nimport MediaQuery from 'react-responsive';\nimport { connectionError } from '../../Helpers/helpers';\nimport { optionAlert } from '../OptionAlert/OptionAlert';\nimport HoverBox from '../../Components/HoverBox/HoverBox';\nimport Button from '../../Components/Button/Button';\nimport { push } from 'connected-react-router'\nimport { routes } from '../../Routing/constants';\nimport apiRequest from '../../Helpers/apiRequest';\nimport { setLoading } from '../../Loading/actions';\nimport { setUser } from '../SignIn/actions';\nimport { deleteToken } from '../../Helpers/helpers';\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tuser: state.user.user,\n\t}\n}\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tsetLoading: (loading) => dispatch(setLoading(loading)),\n\t\tupdateURL: (path) => dispatch(push(path)),\n\t\tupdateUser: (user) => dispatch(setUser(user)),\n\t}\n}\n\nconst Profile = ({ user: { userName, userEmail }, setLoading, updateURL, updateUser }) => {\n\n\tconst { RESET, SEARCH } = routes;\n\n\tconst verifyDeletion = (event) => {\n\t\toptionAlert({\n\t\t    title: 'Account Deletion',\n\t\t    message: 'Are you sure you want to delete your account and all your saved data?',\n\t\t    buttons: [\n\t\t    \t{\n\t\t    \t\tlabel: 'Yes',\n\t\t\t        onClick: () => handleDelete()\n\t\t    \t},\n\t\t    \t{\n\t\t    \t\tlabel: 'No',\n\t\t\t        onClick: () => {}\n\t\t    \t},\n\t\t    ]\n\t    })\n\t    event.preventDefault();\n\t}\n\n\tconst handleDelete = () => {\n\t\tsetLoading(true)\n\t\tapiRequest({\n\t\t\tendPoint: '/delete-account',\n\t\t\tmethod: 'POST',\n\t\t\tbody: {userEmail} \n\t\t})\n\t\t\t.then(res => {\n\t\t\t\tsetLoading(false)\n\t\t\t\tif (res && res.error != null) {\n\t\t\t\t\tconst { title, message } = res.error;\n\t\t\t\t\toptionAlert({title, message})\n\t\t\t\t} else {\n\t\t\t\t\tupdateUser('');\n\t\t\t\t\tdeleteToken()\n\t\t\t\t\toptionAlert({\n\t\t\t\t\t    title: 'Account Deleted',\n\t\t\t\t\t    message: 'Your user account has successfully been deleted.',\n\t\t\t\t\t    buttons: [\n\t\t\t\t\t    \t{\n\t\t\t\t\t    \t\tlabel: 'Okay',\n\t\t\t\t\t\t        onClick: () => updateURL(SEARCH)\n\t\t\t\t\t    \t},\n\t\t\t\t\t    ]\n\t\t\t\t    })\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\tsetLoading(false)\n\t\t\t\tconnectionError()\n\t\t\t})\n\t}\n\n\treturn (\n\t\t<MediaQuery maxWidth={574}>\n\t\t\t{(matches) => {\n\t\t\treturn (\n\t\t\t\t<HoverBox>\n\t\t\t\t\t<div className='profile'>\n\t\t\t\t\t\t<div className='profile-inner'>\n\t\t\t\t\t\t\t<h2>Hello, {userName}!</h2>\n\t\t\t\t\t\t\t<div className='section'>\n\t\t\t\t\t\t\t\t<p><strong>Want to reset your password?</strong></p>\n\t\t\t\t\t\t\t\t<p>You will need to verify your email to reset your password.</p>\n\t\t\t\t\t\t\t\t<Button \n\t\t\t\t\t\t\t\t\ttitle='Reset'\n\t\t\t\t\t\t\t\t\tbuttonType='ghost' \n\t\t\t\t\t\t\t\t\ticon='shuffle' \n\t\t\t\t\t\t\t\t\theight='44px'\n\t\t\t\t\t\t\t\t\tmargin='0'\n\t\t\t\t\t\t\t\t\twidth='100px'\n\t\t\t\t\t\t\t\t\thandleClick={()=>updateURL(RESET)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='section'>\n\t\t\t\t\t\t\t\t<p><strong>Wish to delete you account?</strong></p>\n\t\t\t\t\t\t\t\t<p>Beware! This will delete your account and any saved data related to your account.</p>\n\t\t\t\t\t\t\t\t<Button \n\t\t\t\t\t\t\t\t\ttitle='Delete'\n\t\t\t\t\t\t\t\t\tbuttonType='ghost' \n\t\t\t\t\t\t\t\t\ticon='multiply' \n\t\t\t\t\t\t\t\t\theight='44px'\n\t\t\t\t\t\t\t\t\tmargin='0'\n\t\t\t\t\t\t\t\t\twidth='100px'\n\t\t\t\t\t\t\t\t\thandleClick={verifyDeletion}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</HoverBox>\n\t\t\t)}}\n\t\t</MediaQuery>\n\t);\t\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\n"]},"metadata":{},"sourceType":"module"}